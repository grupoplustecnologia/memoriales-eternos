# ğŸŒŸ Sistema de Planes, Puntos y GamificaciÃ³n Emocional

## ğŸ“‹ Resumen General

Se ha implementado un **sistema completo de monetizaciÃ³n Ã©tica y emocional** para Memorias Eternas, basado en tres planes con nombres emotivos, un sistema de puntos (Estrellas), misiones emocionales, momentos especiales y un dashboard de estadÃ­sticas.

---

## ğŸ¯ Planes de SuscripciÃ³n

### 1ï¸âƒ£ **ğŸŒ± Huella Eterna** (Gratuito)
- **Para:** Quienes quieren mantener vivo el recuerdo de su compaÃ±ero
- **Pago:** Gratis
- **Memoriales:** 1
- **Fotos:** 5 por memorial
- **Tributos:** 1 vela/corazÃ³n gratuito por semana
- **Estrellas mensuales:** 4 â­
- **Acceso:** Mapa mundial, epitafio personalizado, notas de texto

### 2ï¸âƒ£ **âœ¨ Cielo de Estrellas** (5â‚¬ pago Ãºnico O 1â‚¬ cada 3 meses)
- **Para:** Familias que quieren un homenaje mÃ¡s completo
- **Memoriales:** Hasta 5
- **Fotos:** 20 por memorial
- **Tributos:** Ilimitados
- **Estrellas mensuales:** 10 â­
- **Extras:**
  - PersonalizaciÃ³n de fondos
  - Sin anuncios
  - 1 marco decorativo exclusivo
  - Momentos especiales (Primer DÃ­a, Ãšltimo AdiÃ³s, Su Historia)

### 3ï¸âƒ£ **ğŸ‘‘ Santuario Premium** (10â‚¬ pago Ãºnico O 3â‚¬ cada 3 meses)
- **Para:** La forma mÃ¡s completa de honrar a las mascotas
- **Memoriales:** Ilimitados
- **Fotos:** Ilimitadas
- **Videos:** Permitidos (hasta 1 minuto)
- **Tributos:** Ilimitados
- **Estrellas mensuales:** 30 â­
- **Extras:**
  - Todos los fondos y marcos exclusivos
  - Temas personalizados
  - Iconos especiales (corona, estrella dorada, flor celestial)
  - Momentos especiales ilimitados (incluye cumpleaÃ±os y aniversarios)
  - Soporte prioritario
  - Dashboard de visitas completo

---

## â­ Sistema de Puntos (Estrellas)

### Â¿QuÃ© son las Estrellas?
Moneda interna que permite a los usuarios interactuar de forma emocional con los memoriales sin obligar a nuevas compras.

### CÃ³mo ganarlas
1. **Incluidas en el plan** (mensuales):
   - Huella Eterna: 4 â­/mes
   - Cielo de Estrellas: 10 â­/mes
   - Santuario Premium: 30 â­/mes

2. **Completando misiones emocionales**:
   - Vigilia Especial (visitar 3 dÃ­as seguidos): +1 â­
   - Comparte el Recuerdo (redes sociales): +2 â­
   - Una Foto Vale Mil Palabras (subir foto): +1 â­
   - Tesoro de Recuerdos (escribir recuerdo): +1 â­
   - Primer Tributo: +3 â­
   - Eco de Amor (comentar recuerdos): +1 â­

3. **Compra de paquetes** (microtransacciones):
   - 20 estrellas â†’ 1â‚¬
   - 60 estrellas â†’ 2â‚¬ (17% descuento)
   - 200 estrellas â†’ 5â‚¬ (34% descuento)

### DÃ³nde usarlas
- ğŸ•¯ï¸ **Vela Blanca** (1 â­) - Dura 24 horas
- âœ¨ğŸ•¯ï¸ **Vela Dorada** (5 â­) - Dura 7 dÃ­as
- ğŸŒ¹ **Flor** (2 â­) - Dura 3 dÃ­as
- ğŸŒ¸ **Flor Celestial** (10 â­) - Dura 14 dÃ­as
- ğŸ‘‘ğŸŒ¹ **Corona de Flores** (25 â­) - Dura 30 dÃ­as
- â¤ï¸ **CorazÃ³n Eterno** (3 â­) - Dura 7 dÃ­as
- ğŸ¨ **Marcos y fondos exclusivos**
- âœ¨ **Pegatinas y insignias**

---

## ğŸ¯ Momentos Especiales (Emotionales, no tÃ©cnicos)

### Disponibles en cada plan

#### Cielo de Estrellas (âœ¨):
- ğŸ’« **Primer DÃ­a Juntos** - Cuenta cÃ³mo llegÃ³ a tu vida
- ğŸ•¯ï¸ **Ãšltimo AdiÃ³s** - DespÃ­dete con sinceridad
- ğŸ“– **Su Historia** - Narra los momentos memorables

#### Santuario Premium (ğŸ‘‘):
- Todos los anteriores +
- ğŸ¾ **Juguete Favorito** - Habla sobre momentos de juego
- ğŸ‚ **Celebra su CumpleaÃ±os** - Marca con tributos especiales
- ğŸ’• **Aniversario** - Honra cada aÃ±o de compaÃ±Ã­a

### CÃ³mo funcionan
1. Usuario selecciona un momento
2. Se abre editor con prompt emocional
3. Escribe el contenido (foto, video o texto)
4. Se guarda como secciÃ³n permanente en el memorial

---

## ğŸ“Š Dashboard de EstadÃ­sticas (Planes de Pago)

### MÃ©tricas disponibles solo en planes premium:
- ğŸ‘ï¸ **Total de visitas**
- ğŸ“… **Visitas del mes**
- ğŸ’ **Tributos recibidos** (con desglose por tipo)
- ğŸ“¢ **Comparticiones en redes**
- ğŸ‘¥ **Visitantes Ãºnicos**
- ğŸ“ˆ **GrÃ¡ficas de tendencias** (visitas por dÃ­a)
- ğŸ¨ **DistribuciÃ³n de tributos** (grÃ¡fico donut)

### PropÃ³sito
Permite a usuarios ver el impacto de su memorial en la comunidad, incentivando mantenimiento y nuevas historias.

---

## ğŸ® Misiones Emocionales (GamificaciÃ³n Suave)

No son "juegos" sino rituales afectivos que:
- Incentivan interacciÃ³n regular
- Crean hÃ¡bitos de revisita
- Generan contenido comunitario
- Recompensan acciones significativas

### Misiones disponibles:
1. **Vigilia Especial** (ğŸ•¯ï¸) - Visita 3 dÃ­as seguidos (+1 â­)
2. **Comparte el Recuerdo** (ğŸ“¢) - Comparte en redes (+2 â­)
3. **Una Foto Vale Mil Palabras** (ğŸ“¸) - Sube una foto (+1 â­)
4. **Tesoro de Recuerdos** (âœï¸) - Escribe un recuerdo (+1 â­)
5. **Primer Tributo** (ğŸŒ¹) - Realiza tu primer tributo (+3 â­)
6. **Eco de Amor** (ğŸ’¬) - Comenta en recuerdos de otros (+1 â­)

**Reinicio:** Las misiones se reinician cada semana

---

## ğŸ“ Estructura de Archivos

### Nuevos Tipos
```
src/types/index.ts
â”œâ”€â”€ SubscriptionTier
â”œâ”€â”€ PaymentType ('one-time' | 'subscription')
â”œâ”€â”€ SpecialMomentType
â”œâ”€â”€ UserStars
â”œâ”€â”€ StarPurchase
â”œâ”€â”€ MissionProgress
â”œâ”€â”€ EmotionalMissionType
â”œâ”€â”€ EmotionalMission
â”œâ”€â”€ SpecialMoment
â”œâ”€â”€ TributeConfig
â”œâ”€â”€ PlanConfig
â””â”€â”€ Constantes: PLANS, TRIBUTE_CONFIGS, EMOTIONAL_MISSIONS
```

### Nuevas PÃ¡ginas
```
src/app/
â”œâ”€â”€ plans/page.tsx (Comparativa de planes con toggle pago/suscripciÃ³n)
â””â”€â”€ user/subscription/page.tsx (Dashboard de usuario con misiones, estrellas, historial)
```

### Nuevos Componentes
```
src/components/
â”œâ”€â”€ StarsShop.tsx (Compra de paquetes 20/60/200 estrellas)
â”œâ”€â”€ VisitsDashboard.tsx (GrÃ¡ficas de visitas y tributos - solo premium)
â”œâ”€â”€ SpecialMomentsEditor.tsx (Editor de momentos especiales)
â”œâ”€â”€ EmotionalMissions.tsx (Panel de misiones con progreso)
â””â”€â”€ Footer.tsx (Actualizado con links a planes y suscripciÃ³n)
```

---

## ğŸ’³ Modelo de MonetizaciÃ³n

### Ingresos primarios:
1. **Pago Ãºnico por plan** (descuento para conversiÃ³n inmediata)
   - Cielo de Estrellas: 5â‚¬
   - Santuario Premium: 10â‚¬

2. **SuscripciÃ³n trimestral** (acceso contÃ­nuo a beneficios)
   - Cielo de Estrellas: 1â‚¬ cada 3 meses
   - Santuario Premium: 3â‚¬ cada 3 meses

3. **Microtransacciones de estrellas** (50-80% de ingresos)
   - 20 â­ â†’ 1â‚¬
   - 60 â­ â†’ 2â‚¬
   - 200 â­ â†’ 5â‚¬

### Ventajas del modelo:
âœ… **Sin obligatoriedad**: Usuarios pueden tener plan gratuito indefinido  
âœ… **MonetizaciÃ³n Ã©tica**: No pay-to-win, solo pay-to-express  
âœ… **Incentivos para actualizaciÃ³n**: Cada tier desbloquea nuevas emociones  
âœ… **Sostenibilidad**: Estrellas generan ingresos recurrentes  
âœ… **Comunidad activa**: Misiones crean engagement sin presiÃ³n

---

## ğŸ”§ IntegraciÃ³n en AplicaciÃ³n

### En `DataContext` o `useAuth`:
```typescript
// Agregar a User:
userStars: number;
userPlan: SubscriptionTier;
paymentType: PaymentType;
subscriptionEndDate?: string;
```

### En Componentes de Memorial:
```typescript
<VisitsDashboard 
  profile={profile} 
  isPremium={userPlan !== 'huella-eterna'}
/>

<SpecialMomentsEditor 
  userPlan={userPlan}
  isPremium={true}
  onSaveMoment={handleMomentSave}
/>
```

### En Navbar (agregar):
```typescript
<Link href="/plans">Planes</Link>
<Link href="/user/subscription">Mi SuscripciÃ³n</Link>
```

---

## ğŸ¨ Colores y Theming

```
ğŸŒ± Huella Eterna: #7a8b62 (verde naturaleza)
âœ¨ Cielo de Estrellas: #fbbf24 (dorado)
ğŸ‘‘ Santuario Premium: #d4af37 (dorado premium)
```

---

## ğŸ“ˆ PrÃ³ximos Pasos

1. **IntegraciÃ³n con Supabase**:
   - Tabla `user_subscriptions`
   - Tabla `user_stars`
   - Tabla `completed_missions`
   - Tabla `special_moments`

2. **Pasarela de pago** (Stripe):
   - Payment intents para pagos Ãºnicos
   - Subscriptions API para suscripciones

3. **Email automation** (Resend):
   - ConfirmaciÃ³n de pago
   - RenovaciÃ³n de suscripciÃ³n
   - Recordatorios de misiones

4. **Analytics**:
   - Rastrear conversiÃ³n (free â†’ paid)
   - Monitorear ingresos por canal
   - Analizar misiones populares

---

## âœ… ValidaciÃ³n

Todos los archivos han sido validados **sin errores TypeScript**:
- âœ… src/types/index.ts
- âœ… src/app/plans/page.tsx
- âœ… src/components/StarsShop.tsx
- âœ… src/components/VisitsDashboard.tsx
- âœ… src/components/SpecialMomentsEditor.tsx
- âœ… src/components/EmotionalMissions.tsx
- âœ… src/app/user/subscription/page.tsx
- âœ… src/components/Footer.tsx

---

## ğŸ¯ Objetivo Final

Crear un **sistema de monetizaciÃ³n emocional** que:
1. Respeta la naturaleza sensible del producto
2. Genera ingresos sostenibles sin presiÃ³n
3. Incentiva engagement comunitario
4. Permite expresiÃ³n emocional profunda
5. Es accesible para todos (gratis o premium)

**Cada compra es un acto de amor por la memoria de sus mascotas.** ğŸ¾ğŸ’•
